---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import LogoCarousel from "../components/LogoCarousel.astro";
import Company from "../components/Company.astro";
---

<BaseLayout title="Home">
  <div class="scroll-smooth">
    <Hero />
    <LogoCarousel />

    <main class="relative overflow-hidden">
      <div class="absolute inset-0 -z-10 main-surface"></div>
      <div class="absolute inset-0 -z-10 grid-overlay"></div>

      <div class="relative mx-auto max-w-6xl px-6 sm:px-10 lg:px-16 py-16">
        <section
          id="platform"
          class="reveal"
          data-variant="left"
          style="--reveal-delay: 0ms;"
        >
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-end">
            <div>
              <p class="text-xs uppercase tracking-[0.28em] text-black/50">
                TrustAI Platform
              </p>
              <h2
                class="mt-4 text-4xl font-bold tracking-tight text-black sm:text-5xl"
              >
                Verification-first governance for agentic systems.
              </h2>
            </div>
            <div class="text-lg leading-8 text-black/60">
              <p>
                We attach evidence, policies, and provenance to every step of
                the model pipeline so teams can ship faster without blind spots.
              </p>
              <div
                class="mt-8 grid grid-cols-2 gap-6 border-t border-black/10 pt-8"
                data-stagger="1"
              >
                <div data-reveal-item>
                  <div class="text-2xl font-bold text-black">3x</div>
                  <div class="text-sm text-black/60">
                    Faster investigation cycles
                  </div>
                </div>
                <div data-reveal-item>
                  <div class="text-2xl font-bold text-black">99.8%</div>
                  <div class="text-sm text-black/60">
                    Policy compliance coverage
                  </div>
                </div>
                <div data-reveal-item>
                  <div class="text-2xl font-bold text-black">24/7</div>
                  <div class="text-sm text-black/60">Continuous auditing</div>
                </div>
                <div data-reveal-item>
                  <div class="text-2xl font-bold text-black">5k+</div>
                  <div class="text-sm text-black/60">Research partners</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section
          class="reveal mt-16 pt-16"
          data-variant="right"
          data-stagger="1"
          style="--reveal-delay: 80ms;"
        >
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
            <div>
              <h3 class="text-3xl font-bold tracking-tight text-black">
                Evidence that follows the chain of thought.
              </h3>
              <p class="mt-4 text-lg leading-8 text-black/60">
                Each response is grounded with an auditable trail, turning
                ambiguous model output into verifiable artifacts.
              </p>
            </div>
            <div class="space-y-6">
              <div
                class="border border-black/10 bg-white/70 p-6 shadow-[0_12px_32px_rgba(0,0,0,0.08)]"
                data-reveal-item
              >
                <div class="text-sm uppercase tracking-[0.2em] text-black/40">
                  Step 01
                </div>
                <div class="mt-3 text-xl font-semibold text-black">
                  Capture every retrieval
                </div>
                <p class="mt-2 text-sm leading-6 text-black/60">
                  Store evidence slices with source metadata and provenance
                  scores.
                </p>
              </div>
              <div
                class="border border-black/10 bg-white/70 p-6 shadow-[0_12px_32px_rgba(0,0,0,0.08)]"
                data-reveal-item
              >
                <div class="text-sm uppercase tracking-[0.2em] text-black/40">
                  Step 02
                </div>
                <div class="mt-3 text-xl font-semibold text-black">
                  Apply live policy checks
                </div>
                <p class="mt-2 text-sm leading-6 text-black/60">
                  Enforce safety rules before the model responds, not after.
                </p>
              </div>
              <div
                class="border border-black/10 bg-white/70 p-6 shadow-[0_12px_32px_rgba(0,0,0,0.08)]"
                data-reveal-item
              >
                <div class="text-sm uppercase tracking-[0.2em] text-black/40">
                  Step 03
                </div>
                <div class="mt-3 text-xl font-semibold text-black">
                  Verify alignment at output
                </div>
                <p class="mt-2 text-sm leading-6 text-black/60">
                  Produce a structured report that auditors can trust.
                </p>
              </div>
            </div>
          </div>
        </section>

        <section
          id="signals"
          class="reveal mt-16 pt-16"
          data-variant="scale"
          data-stagger="1"
          style="--reveal-delay: 120ms;"
        >
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-1">
              <h3 class="text-3xl font-bold tracking-tight text-black">
                Clean signals for every stakeholder.
              </h3>
              <p class="mt-4 text-lg leading-8 text-black/60">
                Rollups, risk alerts, and governance snapshots that align
                product, policy, and research teams.
              </p>
            </div>
            <div class="lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6">
              <div
                class="border border-black/10 bg-white/80 p-6"
                data-reveal-item
              >
                <div class="text-xs uppercase tracking-[0.2em] text-black/40">
                  Coverage
                </div>
                <div class="mt-3 text-xl font-semibold text-black">
                  Retrieval traceability
                </div>
                <p class="mt-2 text-sm leading-6 text-black/60">
                  Identify which sources influenced each generation.
                </p>
              </div>
              <div
                class="border border-black/10 bg-white/80 p-6"
                data-reveal-item
              >
                <div class="text-xs uppercase tracking-[0.2em] text-black/40">
                  Governance
                </div>
                <div class="mt-3 text-xl font-semibold text-black">
                  Policy drift alerts
                </div>
                <p class="mt-2 text-sm leading-6 text-black/60">
                  Detect misalignment as policies evolve.
                </p>
              </div>
              <div
                class="border border-black/10 bg-white/80 p-6"
                data-reveal-item
              >
                <div class="text-xs uppercase tracking-[0.2em] text-black/40">
                  Trust
                </div>
                <div class="mt-3 text-xl font-semibold text-black">
                  Evidence snapshots
                </div>
                <p class="mt-2 text-sm leading-6 text-black/60">
                  Instant reports for auditors and regulators.
                </p>
              </div>
              <div
                class="border border-black/10 bg-white/80 p-6"
                data-reveal-item
              >
                <div class="text-xs uppercase tracking-[0.2em] text-black/40">
                  Performance
                </div>
                <div class="mt-3 text-xl font-semibold text-black">
                  Confidence scoring
                </div>
                <p class="mt-2 text-sm leading-6 text-black/60">
                  Measure reliability across flows and providers.
                </p>
              </div>
            </div>
          </div>
        </section>

        <div class="mt-16">
          <Company />
        </div>

        <section
          id="newsletters"
          class="reveal mt-16 pt-16 scroll-mt-24"
          style="--reveal-delay: 160ms;"
        >
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div>
              <h2
                class="text-4xl font-bold tracking-tight text-black sm:text-5xl"
              >
                Stay ahead of the curve.
              </h2>
              <p class="mt-6 text-xl leading-8 text-black/60">
                Join 5,000+ researchers and engineers receiving our weekly
                deep-dives into trust, safety, and alignment in the age of
                superintelligence.
              </p>
            </div>
            <div
              class="relative border border-black/10 bg-white p-8 sm:p-12 shadow-[0_18px_40px_rgba(0,0,0,0.12)]"
            >
              <h3 class="text-2xl font-bold text-black mb-6">
                Join our newsletter
              </h3>
              <form class="flex flex-col gap-4">
                <div class="relative">
                  <input
                    type="email"
                    placeholder="name@company.com"
                    class="w-full bg-white border border-black/10 px-4 py-4 text-black placeholder-black/40 focus:outline-none focus:ring-2 focus:ring-black/20 transition-all"
                    required
                  />
                </div>
                <button
                  type="submit"
                  class="bg-black text-white font-bold py-4 hover:bg-black/90 transition-all active:scale-95"
                >
                  Join the waitlist
                </button>
              </form>
              <p class="mt-4 text-sm text-black/50 text-center">
                Zero spam. Unsubscribe any time.
              </p>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <style>
    .reveal {
      opacity: 0;
      transform: translate3d(0, 24px, 0);
      transition:
        opacity 700ms ease,
        transform 700ms ease;
      transition-delay: var(--reveal-delay, 0ms);
      will-change: transform, opacity;
    }

    .reveal[data-variant="left"] {
      transform: translate3d(-24px, 0, 0);
    }

    .reveal[data-variant="right"] {
      transform: translate3d(24px, 0, 0);
    }

    .reveal[data-variant="scale"] {
      transform: scale(0.975);
    }

    .reveal.is-visible {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }

    .reveal .reveal-item {
      opacity: 0;
      transform: translate3d(0, 16px, 0);
      transition:
        opacity 600ms ease,
        transform 600ms ease;
      will-change: transform, opacity;
    }

    .reveal.is-visible .reveal-item {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }

    @media (prefers-reduced-motion: reduce) {
      .reveal {
        opacity: 1;
        transform: none;
        transition: none;
      }

      .reveal .reveal-item {
        opacity: 1;
        transform: none;
        transition: none;
      }
    }

    .main-surface {
      background:
        radial-gradient(
          1200px 600px at 80% -10%,
          rgba(0, 0, 0, 0.08),
          transparent 60%
        ),
        radial-gradient(
          800px 500px at 0% 40%,
          rgba(0, 0, 0, 0.05),
          transparent 60%
        ),
        linear-gradient(180deg, rgba(0, 0, 0, 0.02), transparent 35%);
    }

    .grid-overlay {
      background-image: linear-gradient(
          to right,
          rgba(0, 0, 0, 0.05) 1px,
          transparent 1px
        ),
        linear-gradient(
          to bottom,
          rgba(0, 0, 0, 0.05) 1px,
          transparent 1px
        );
      background-size: 120px 120px;
      opacity: 0.35;
    }
  </style>

  <script is:inline>
    const elements = document.querySelectorAll(".reveal");

    elements.forEach((el) => {
      if (el.dataset.stagger) {
        const items = el.querySelectorAll("[data-reveal-item]");
        items.forEach((item, index) => {
          item.classList.add("reveal-item");
          item.style.transitionDelay = `${120 + index * 90}ms`;
        });
      }
    });

    const observer = new IntersectionObserver(
      (entries) => {
        for (const entry of entries) {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          }
        }
      },
      {
        threshold: 0.15,
        rootMargin: "0px 0px -10% 0px",
      },
    );

    elements.forEach((el) => observer.observe(el));
  </script>
</BaseLayout>
