---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import LogoCarousel from "../components/LogoCarousel.astro";
import Visions from "../components/Visions.astro";
import Company from "../components/Company.astro";
---

<BaseLayout title="Home">
  <div class="scroll-smooth">
    <Hero />
    <LogoCarousel />

    <main class="p-8">
      <Visions />

      <Company />

      <section
        id="newsletters"
        class="reveal scroll-mt-24 py-24"
        style="--reveal-delay: 160ms;"
      >
        <div class="h-px w-full bg-black/5 mb-24"></div>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
          <div>
            <h2
              class="text-4xl font-bold tracking-tight text-black sm:text-5xl"
            >
              Stay ahead of the curve.
            </h2>
            <p class="mt-6 text-xl leading-8 text-black/60">
              Join 5,000+ researchers and engineers receiving our weekly
              deep-dives into trust, safety, and alignment in the age of
              superintelligence.
            </p>
          </div>
          <div class="relative bg-black p-8 sm:p-12 shadow-2xl">
            <h3 class="text-2xl font-bold text-white mb-6">
              Join our newsletter
            </h3>
            <form class="flex flex-col gap-4">
              <div class="relative">
                <input
                  type="email"
                  placeholder="name@company.com"
                  class="w-full bg-white/10 border border-white/20 px-4 py-4 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/50 transition-all"
                  required
                />
              </div>
              <button
                type="submit"
                class="bg-white text-black font-bold py-4 hover:bg-white/90 transition-all active:scale-95"
              >
                Join the waitlist
              </button>
            </form>
            <p class="mt-4 text-sm text-white/40 text-center">
              Zero spam. Unsubscribe any time.
            </p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <style>
    .reveal {
      opacity: 0;
      transform: translate3d(0, 24px, 0);
      transition:
        opacity 700ms ease,
        transform 700ms ease;
      transition-delay: var(--reveal-delay, 0ms);
      will-change: transform, opacity;
    }

    .reveal.is-visible {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }

    @media (prefers-reduced-motion: reduce) {
      .reveal {
        opacity: 1;
        transform: none;
        transition: none;
      }
    }
  </style>

  <script is:inline>
    const elements = document.querySelectorAll(".reveal");

    const observer = new IntersectionObserver(
      (entries) => {
        for (const entry of entries) {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          }
        }
      },
      {
        threshold: 0.15,
        rootMargin: "0px 0px -10% 0px",
      },
    );

    elements.forEach((el) => observer.observe(el));
  </script>
</BaseLayout>
