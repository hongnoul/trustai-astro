---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
---

<BaseLayout title="Home">
  <div class="scroll-smooth">
    <Hero />

    <main class="p-8">
      <section
        id="services"
        class="reveal scroll-mt-24 py-24"
        style="--reveal-delay: 0ms;"
      >
        <h2 class="text-3xl font-bold">Services</h2>
        <p class="mt-4 text-black/70">
          Placeholder content for Services section.
        </p>
        <div class="mt-10 h-[320px] w-full rounded-2xl bg-black/5"></div>
      </section>

      <section
        id="careers"
        class="reveal scroll-mt-24 py-24"
        style="--reveal-delay: 80ms;"
      >
        <h2 class="text-3xl font-bold">Careers</h2>
        <p class="mt-4 text-black/70">
          Placeholder content for Careers section.
        </p>
        <div class="mt-10 h-[320px] w-full rounded-2xl bg-black/5"></div>
      </section>

      <section
        id="mission-configurator"
        class="reveal scroll-mt-24 py-24"
        style="--reveal-delay: 160ms;"
      >
        <h2 class="text-3xl font-bold">Mission Configurator</h2>
        <p class="mt-4 text-black/70">
          Placeholder content for Mission Configurator section.
        </p>
        <div class="mt-10 h-[320px] w-full rounded-2xl bg-black/5"></div>
      </section>
    </main>
  </div>

  <style>
    .reveal {
      opacity: 0;
      transform: translate3d(0, 24px, 0);
      transition:
        opacity 700ms ease,
        transform 700ms ease;
      transition-delay: var(--reveal-delay, 0ms);
      will-change: transform, opacity;
    }

    .reveal.is-visible {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }

    @media (prefers-reduced-motion: reduce) {
      .reveal {
        opacity: 1;
        transform: none;
        transition: none;
      }
    }
  </style>

  <script is:inline>
    const elements = document.querySelectorAll(".reveal");

    const observer = new IntersectionObserver(
      (entries) => {
        for (const entry of entries) {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          }
        }
      },
      {
        threshold: 0.15,
        rootMargin: "0px 0px -10% 0px",
      }
    );

    elements.forEach((el) => observer.observe(el));
  </script>
</BaseLayout>
